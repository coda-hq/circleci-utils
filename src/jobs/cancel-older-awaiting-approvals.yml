description: |
  Cancel all older pipelines waiting on manual approval.
  Depends on jq being present.
parameters:
  CIRCLE_TOKEN:
    default: CIRCLE_TOKEN
    description: |
      Env var of a token granted read access to the CircleCI api
    type: env_var_name
  vcs:
    description: |
      Defaults to "gh", but allows other version control systems.
    type: string
    default: gh
executor: default
steps:
  - cancel-older-awaiting-approvals:
      CIRCLE_TOKEN: << parameters.CIRCLE_TOKEN >>
      vcs: << parameters.vcs >>